<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NBA Intelligence Hub</title>
    <link rel="stylesheet" href="styles/landing.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="inner">
        <div class="brand">NBA Intelligence Lab</div>
        <nav aria-label="Primary">
          <a href="franchise-explorer.html">Franchise Explorer</a>
          <a href="franchise-explorer.html#schedule-heading">Schedule Outlook</a>
          <a href="franchise-explorer.html#players-heading">Player Pipeline</a>
          <a href="franchise-explorer.html#team-heading">Team Benchmarks</a>
        </nav>
        <div class="cta-group">
          <a class="cta cta-outline" href="https://github.com" rel="noreferrer" target="_blank">View repo</a>
          <a class="cta cta-primary" href="franchise-explorer.html">Launch explorer ‚Üí</a>
        </div>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="hero-copy">
          <div class="hero-badges">
            <span class="badge">Data-first experience</span>
            <span class="badge">Season 2024-25 ready</span>
          </div>
          <h1>Own every era of NBA dominance with one control center.</h1>
          <p>
            NBA Intelligence Hub is your launchpad for franchise timelines, schedule pressure testing,
            and global player scouting intel. Explore the data-rich dashboards that power the modern
            basketball front office.
          </p>
          <div class="cta-group">
            <a class="cta cta-primary" href="franchise-explorer.html">Dive into the data ‚Üí</a>
            <a class="cta cta-outline" href="#capabilities">Preview capabilities</a>
          </div>
        </div>

        <div class="hero-visual" aria-hidden="true">
          <div class="hero-chart">
            <h2>Live franchise pulse</h2>
            <div class="stat-stack">
              <div class="stat">
                <span class="label">Tracked franchises</span>
                <span class="value" id="stat-franchises">‚Äî</span>
              </div>
              <div class="stat">
                <span class="label">Active NBA teams</span>
                <span class="value" id="stat-nba">‚Äî</span>
              </div>
              <div class="stat">
                <span class="label">Snapshot vintage</span>
                <span class="value" id="stat-vintage">‚Äî</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <div class="section-title" id="insights">
        <h2>High-velocity intel from the lab</h2>
        <p>
          We synthesize league history, upcoming schedules, and player pipelines into focused modules.
          Refresh these numbers in the explorer to reshape your scouting or storytelling workflow.
        </p>
      </div>
      <section class="stat-grid" aria-labelledby="insights">
        <article class="stat-card">
          <h3>Countries represented</h3>
          <div class="value" id="stat-countries">‚Äî</div>
          <p>Global talent spanning continents with fresh scouting notes baked in.</p>
        </article>
        <article class="stat-card">
          <h3>Average player size</h3>
          <div class="value"><span id="stat-height">‚Äî</span> / <span id="stat-weight">‚Äî</span></div>
          <p>Build the prototype roster by blending height, wingspan, and positional agility.</p>
        </article>
        <article class="stat-card">
          <h3>Season 2024-25 workload</h3>
          <div class="value" id="stat-games">‚Äî</div>
          <p>Follow the grind‚Äîpreseason to postseason‚Äîbefore tip-off even arrives.</p>
        </article>
        <article class="stat-card">
          <h3>Longest-running era</h3>
          <div class="value" id="stat-era">‚Äî</div>
          <p>Zoom into the dynasties redefining basketball longevity and innovation.</p>
        </article>
      </section>

      <section class="section-title" id="capabilities">
        <h2>Built for storytellers, analysts, and diehard fans</h2>
        <p>
          Each module is tuned for clarity‚Äîslicing timeframes, benchmarking elite teams, and
          spotlighting signature performances across eras.
        </p>
      </section>
      <section class="features">
        <article class="feature-card">
          <span class="tag">Franchises</span>
          <h3>Slice 100+ years of team history</h3>
          <p>
            Filter by league, era, or market to discover expansion waves and dynastic cores. Export
            clean tables for your next research thread.
          </p>
        </article>
        <article class="feature-card">
          <span class="tag">Schedule</span>
          <h3>Stress-test travel and rest windows</h3>
          <p>
            Compare monthly workloads, rest distributions, and back-to-back gauntlets before they shape
            the standings.
          </p>
        </article>
        <article class="feature-card">
          <span class="tag">Players</span>
          <h3>Map the global talent supply</h3>
          <p>
            Track international pipelines, positional depth, and draft pathways to build smarter boards
            and scouting decks.
          </p>
        </article>
      </section>

      <section class="preview-section" aria-label="Preview panels">
        <div class="preview-grid">
          <article class="preview-card">
            <div class="bg-icon">üèôÔ∏è</div>
            <h3>Franchise Explorer</h3>
            <p>Navigate every active era with filters and charts designed for storytelling velocity.</p>
            <a class="cta-inline" href="franchise-explorer.html">Open the explorer ‚Üí</a>
          </article>
          <article class="preview-card">
            <div class="bg-icon">üóìÔ∏è</div>
            <h3>Schedule Outlook</h3>
            <p>Quantify month-by-month workloads and travel strain for the 2024-25 campaign.</p>
            <a class="cta-inline" href="franchise-explorer.html#schedule-heading">View schedule intel ‚Üí</a>
          </article>
          <article class="preview-card">
            <div class="bg-icon">üåç</div>
            <h3>Player Pipeline</h3>
            <p>Surface the countries, colleges, and prototypes fueling tomorrow's rosters.</p>
            <a class="cta-inline" href="franchise-explorer.html#players-heading">Explore player data ‚Üí</a>
          </article>
        </div>
      </section>
    </main>

    <footer>
      Built for the modern NBA storyteller. Data snapshots refresh via repository scripts and will
      expand as new modules ship.
    </footer>

    <script>
      async function loadLandingStats() {
        const fallback = () => {
          const placeholders = ['stat-franchises', 'stat-nba', 'stat-vintage', 'stat-era', 'stat-countries', 'stat-height', 'stat-weight', 'stat-games'];
          for (const id of placeholders) {
            const el = document.getElementById(id);
            if (el && el.textContent.trim() === '‚Äî') {
              el.textContent = 'N/A';
            }
          }
        };

        try {
          const [franchisesResp, playersResp, scheduleResp] = await Promise.all([
            fetch('data/active_franchises.json'),
            fetch('data/players_overview.json'),
            fetch('data/season_24_25_schedule.json'),
          ]);

          const [franchises, players, schedule] = await Promise.all([
            franchisesResp.json(),
            playersResp.json(),
            scheduleResp.json(),
          ]);

          const totalFranchises = franchises?.totals?.all ?? null;
          const totalNBA = franchises?.totals?.nba ?? null;
          const snapshotYear = franchises?.currentYear ?? null;
          const longestEraStart = franchises?.earliestSeason ?? null;

          if (typeof totalFranchises === 'number') {
            document.getElementById('stat-franchises').textContent = totalFranchises.toLocaleString();
          }
          if (typeof totalNBA === 'number') {
            document.getElementById('stat-nba').textContent = totalNBA.toLocaleString();
          }
          if (snapshotYear) {
            document.getElementById('stat-vintage').textContent = snapshotYear;
          }
          if (longestEraStart) {
            const eraLabel = snapshotYear ? `${longestEraStart} ‚Üí ${snapshotYear}` : `${longestEraStart} ‚Üí present`;
            document.getElementById('stat-era').textContent = eraLabel;
          }

          const countries = players?.totals?.countriesRepresented ?? null;
          if (countries) {
            document.getElementById('stat-countries').textContent = countries.toLocaleString();
          }

          const avgHeight = players?.totals?.averageHeightInches ?? null;
          const avgWeight = players?.totals?.averageWeightPounds ?? null;
          if (avgHeight) {
            document.getElementById('stat-height').textContent = `${Math.round(avgHeight)}"`; 
          }
          if (avgWeight) {
            document.getElementById('stat-weight').textContent = `${Math.round(avgWeight)} lbs`;
          }

          const totalGames = schedule?.totals?.games ?? null;
          if (totalGames) {
            document.getElementById('stat-games').textContent = totalGames.toLocaleString();
          }
        } catch (error) {
          console.error('Failed to load landing stats', error);
          fallback();
        }
      }

      loadLandingStats();
    </script>
  </body>
</html>
